<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Luxury Stays – Premium Accommodations Worldwide</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>

  <!-- =============================================
       TASK 1: PROPERTY DETAIL MODAL
  ============================================== -->
  <div class="detail-overlay" id="detail-modal">
    <div class="detail-container">

      <!-- Header -->
      <div class="detail-header">
        <div class="detail-header-info">
          <h2 class="detail-title" id="detail-title"></h2>
          <div class="detail-meta">
            <span class="detail-location"><i class="fas fa-map-marker-alt"></i> <span id="detail-location"></span></span>
            <span class="detail-rating"><i class="fas fa-star"></i> <span id="detail-rating"></span></span>
          </div>
        </div>
        <button class="detail-close" id="detail-close-btn" aria-label="Close">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <!-- Airbnb-style Image Gallery Grid -->
      <div class="detail-gallery" id="detail-gallery">
        <!-- Populated by JS: 1 large + up to 4 small -->
      </div>

      <!-- Price & Action Bar -->
      <div class="detail-action-bar">
        <div class="detail-price-block">
          <span class="detail-price" id="detail-price"></span>
          <span class="detail-price-label">/ night</span>
        </div>
        <button class="detail-book-btn btn-pressable">
          <i class="fas fa-calendar-check"></i> Reserve Now
        </button>
      </div>

      <!-- Scrollable Body: Description + Reviews -->
      <div class="detail-body">

        <!-- Description -->
        <div class="detail-section">
          <h3 class="detail-section-title">About this place</h3>
          <p class="detail-description" id="detail-description"></p>
        </div>

        <div class="detail-divider"></div>

        <!-- Reviews Section -->
        <div class="detail-section">
          <div class="detail-reviews-header">
            <h3 class="detail-section-title">
              <i class="fas fa-star"></i>
              <span id="detail-rating-big"></span>
              &nbsp;·&nbsp;
              <span id="detail-review-count"></span> reviews
            </h3>
          </div>
          <div class="detail-reviews-grid" id="detail-reviews-grid">
            <!-- Populated by JS -->
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- Navbar -->
  <header class="navbar">
    <div class="navbar-container">
      <button class="logo-btn" onclick="resetFilters()">
        <div class="logo-icon">
          <i class="fas fa-home"></i>
        </div>
        <div class="logo-text">
          <span class="logo-title">LuxuryStays</span>
        </div>
      </button>

      <div class="navbar-right">
        <button class="list-property-btn btn-pressable" onclick="openPropertyModal()">
          <i class="fas fa-plus"></i>
          <span>List Your Property</span>
        </button>
        <div class="profile-menu">
          <i class="fas fa-bars"></i>
          <div class="profile-avatar">
            <i class="fas fa-user"></i>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero Section with Dubai Skyline -->
  <section class="hero-section">
    <div class="hero-background"></div>
    <div class="hero-overlay"></div>

    <!-- Glassmorphism Search Bar -->
    <div class="hero-search-container">
      <div class="glassmorphism-search-bar">
        <div class="search-field-wrapper">
          <div class="search-field">
            <label>Destination</label>
            <input type="text" id="destination-input" placeholder="Where are you going?" />
          </div>
          <div class="search-divider"></div>
          <div class="search-field">
            <label>Check in</label>
            <input type="date" id="checkin-input" />
          </div>
          <div class="search-divider"></div>
          <div class="search-field">
            <label>Check out</label>
            <input type="date" id="checkout-input" />
          </div>
          <div class="search-divider"></div>
          <div class="search-field">
            <label>Guests</label>
            <div class="guest-counter">
              <button class="guest-btn" id="guests-minus" onclick="changeGuests(-1)" disabled aria-label="Remove guest">
                <i class="fas fa-minus"></i>
              </button>
              <span class="guest-count" id="guests-display">1</span>
              <button class="guest-btn" id="guests-plus" onclick="changeGuests(1)" aria-label="Add guest">
                <i class="fas fa-plus"></i>
              </button>
            </div>
          </div>
          <button class="search-btn btn-pressable" id="search-btn">
            <i class="fas fa-search"></i>
            <span>Search</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <main class="main-content">

    <!-- Country Flags Section -->
    <section class="country-flags-section">
      <div class="country-flags-container" id="country-flags-container">
        <!-- Dynamically populated -->
      </div>
    </section>

    <!-- Listings Grid -->
    <!-- TASK 2: location-bg-collage is absolutely positioned behind cards -->
    <section class="listings-section" id="listings-section">
      <div class="location-bg-collage" id="location-bg-collage">
        <!-- Populated by JS when a country is selected -->
      </div>

      <div class="listings-header">
        <span>Showing <strong id="listing-count">0</strong> stays</span>
        <span class="listings-filter-text" id="filter-text"></span>
      </div>

      <div class="listings-grid" id="listings-grid">
        <!-- Dynamically populated -->
      </div>
    </section>
  </main>

  <!-- Property Listing Modal (existing, untouched) -->
  <div class="modal-overlay" id="property-modal">
    <div class="modal-container">

      <div class="modal-thin-progress">
        <div class="modal-thin-progress-fill" id="modal-thin-progress-fill"></div>
      </div>

      <div class="modal-header">
        <h2>List Your Property</h2>
        <button class="modal-close" onclick="closePropertyModal()" aria-label="Close modal">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div class="modal-progress">
        <div class="progress-step active" data-step="1">
          <div class="step-number">1</div>
          <span>Basic Info</span>
        </div>
        <div class="progress-line"></div>
        <div class="progress-step" data-step="2">
          <div class="step-number">2</div>
          <span>Details</span>
        </div>
        <div class="progress-line"></div>
        <div class="progress-step" data-step="3">
          <div class="step-number">3</div>
          <span>Photos</span>
        </div>
        <div class="progress-line"></div>
        <div class="progress-step" data-step="4">
          <div class="step-number">4</div>
          <span>Review</span>
        </div>
      </div>

      <div class="modal-content">
        <div class="modal-step active" id="step-1">
          <h3>Basic Information</h3>
          <div class="form-group">
            <label>Property Title</label>
            <input type="text" id="property-title" placeholder="e.g., Modern Apartment in Downtown" />
          </div>
          <div class="form-group">
            <label>Property Type</label>
            <select id="property-type">
              <option value="">Select type</option>
              <option value="apartment">Apartment</option>
              <option value="house">House</option>
              <option value="villa">Villa</option>
              <option value="condo">Condo</option>
            </select>
          </div>
          <div class="form-group">
            <label>Location</label>
            <input type="text" id="property-location" placeholder="City, Country" />
          </div>
          <div class="form-group">
            <label>Price per Night ($)</label>
            <input type="number" id="property-price" placeholder="0" min="0" />
          </div>
        </div>

        <div class="modal-step" id="step-2">
          <h3>Property Details</h3>
          <div class="form-group">
            <label>Bedrooms</label>
            <input type="number" id="property-bedrooms" placeholder="0" min="0" />
          </div>
          <div class="form-group">
            <label>Bathrooms</label>
            <input type="number" id="property-bathrooms" placeholder="0" min="0" />
          </div>
          <div class="form-group">
            <label>Maximum Guests</label>
            <input type="number" id="property-guests" placeholder="0" min="1" max="10" />
          </div>
          <div class="form-group">
            <label>Description</label>
            <textarea id="property-description" rows="5" placeholder="Describe your property..."></textarea>
          </div>
        </div>

        <div class="modal-step" id="step-3">
          <h3>Property Photos</h3>
          <div class="image-upload-area" id="image-upload-area">
            <input type="file" id="image-input" multiple accept="image/*" style="display: none;" />
            <div class="upload-placeholder" onclick="document.getElementById('image-input').click()">
              <i class="fas fa-cloud-upload-alt"></i>
              <p>Click to upload images</p>
              <span>or drag and drop</span>
            </div>
          </div>
          <div class="uploaded-images" id="uploaded-images"></div>
        </div>

        <div class="modal-step" id="step-4">
          <h3>Review Your Listing</h3>
          <div class="review-summary" id="review-summary"></div>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn-secondary btn-pressable" id="prev-btn" onclick="previousStep()" style="display: none;">
          <i class="fas fa-arrow-left"></i> Previous
        </button>
        <button class="btn-primary btn-pressable" id="next-btn" onclick="nextStep()">
          Next <i class="fas fa-arrow-right"></i>
        </button>
        <button class="btn-primary btn-pressable" id="submit-btn" onclick="submitProperty()" style="display: none;">
          <i class="fas fa-check"></i> Submit Listing
        </button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
